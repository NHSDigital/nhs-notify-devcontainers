{
    "name": "NHS Notify ${localEnv:CONTAINER_NAME} Developer Container",
    "build": {
        "dockerfile": "Dockerfile",
        "args": {
            "CONTAINER_NAME": "${localEnv:CONTAINER_NAME}",
            "BASE_CONTAINER_NAME": "${localEnv:BASE_CONTAINER_NAME}",
            "BASE_IMAGE_TAG": "${localEnv:BASE_IMAGE_TAG}",
            "BASE_CONTAINER_PREFIX": "${localEnv:BASE_CONTAINER_PREFIX}"
        }
    },
    "postCreateCommand": "echo ${localEnv:CONTAINER_NAME} Created",
    "postStartCommand": "echo ${localEnv:CONTAINER_NAME} Started",

    "features": {
        "ghcr.io/nhsdigital/nhs-notify-devcontainers/nhsnotify:1.0.21": {}
    },
    "runArgs": [
        "--platform=linux/amd64"
    ],
    "forwardPorts": [
        4000
    ],
    "remoteUser": "vscode",
    "containerEnv": {
        "UPDATEFROMTEMPLATE": "true",
        "SHOWWELCOME": "true",
        "MAKECONFIG": "true",
        "GITHUBMONITOR": "true"
    },
    "initializeCommand": "touch $HOME/.gitconfig || true && mkdir -p $HOME/.aws || true && mkdir -p $HOME/.gnupg || true && mkdir -p $HOME/.ssh || true"
}